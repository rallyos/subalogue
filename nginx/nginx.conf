events { }

http {
        server {
              listen 80;
              access_log  off;
              include       /etc/nginx/mime.types;
              sendfile on;

              location ~ \.(html|css|js|woff|woff2|png|jpeg|ico) {
                proxy_pass http://app:8080;
              }

              location ~ ^/$|/app$ {
                try_files $uri $uri/ /index.html;
                proxy_pass http://app:8080;
              }

              location ~ /auth*|/api*|/ping* {
                proxy_pass http://api:8000;
              }
        }
}
